import{a as At}from"./chunk-R375MJS4.js";import{a as vt}from"./chunk-PO5XXM5W.js";import{r as Wt,s as Qt,v as Jt}from"./chunk-ND3OLHNL.js";import{Ga as Bt}from"./chunk-D5N742VN.js";import{Ac as wt,Ba as L,Ca as ct,Cb as b,Da as lt,Ea as $t,Ib as N,Jc as Yt,Md as q,Nc as zt,Ob as M,Oc as Ht,Pb as C,Qb as W,Qc as Ft,a as ut,ac as f,bc as m,cc as F,d as ce,dc as kt,ec as Nt,f as St,gc as ht,he as jt,ie as Rt,jc as X,ke as Vt,lc as S,mb as Tt,pd as yt,qb as c,qc as K,qd as nt,rc as tt,re as I,sc as et,te as v,ud as Lt,vb as gt,wc as Et,xc as g,yc as x,yd as it,zc as $}from"./chunk-IM23FG66.js";var Pt=ce((Mt,Ot)=>{"use strict";(function(i,n){typeof Mt=="object"&&typeof Ot<"u"?Ot.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(Mt,function(){"use strict";var i=1e3,n=6e4,e=36e5,t="millisecond",u="second",w="minute",z="hour",E="day",A="week",k="month",ot="quarter",H="year",R="date",bt="Invalid Date",oe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ae=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,re={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var r=["th","st","nd","rd"],o=l%100;return"["+l+(r[(o-20)%10]||r[o]||r[0])+"]"}},Ct=function(l,r,o){var s=String(l);return!s||s.length>=r?l:""+Array(r+1-s.length).join(o)+l},se={s:Ct,z:function(l){var r=-l.utcOffset(),o=Math.abs(r),s=Math.floor(o/60),a=o%60;return(r<=0?"+":"-")+Ct(s,2,"0")+":"+Ct(a,2,"0")},m:function l(r,o){if(r.date()<o.date())return-l(o,r);var s=12*(o.year()-r.year())+(o.month()-r.month()),a=r.clone().add(s,k),d=o-a<0,p=r.clone().add(s+(d?-1:1),k);return+(-(s+(o-a)/(d?a-p:p-a))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:k,y:H,w:A,d:E,D:R,h:z,m:w,s:u,ms:t,Q:ot}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},at="en",B={};B[at]=re;var Dt="$isDayjsObject",xt=function(l){return l instanceof mt||!(!l||!l[Dt])},pt=function l(r,o,s){var a;if(!r)return at;if(typeof r=="string"){var d=r.toLowerCase();B[d]&&(a=d),o&&(B[d]=o,a=d);var p=r.split("-");if(!a&&p.length>1)return l(p[0])}else{var y=r.name;B[y]=r,a=y}return!s&&a&&(at=a),a||!s&&at},O=function(l,r){if(xt(l))return l.clone();var o=typeof r=="object"?r:{};return o.date=l,o.args=arguments,new mt(o)},h=se;h.l=pt,h.i=xt,h.w=function(l,r){return O(l,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var mt=function(){function l(o){this.$L=pt(o.locale,null,!0),this.parse(o),this.$x=this.$x||o.x||{},this[Dt]=!0}var r=l.prototype;return r.parse=function(o){this.$d=function(s){var a=s.date,d=s.utc;if(a===null)return new Date(NaN);if(h.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var p=a.match(oe);if(p){var y=p[2]-1||0,_=(p[7]||"0").substring(0,3);return d?new Date(Date.UTC(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,_)):new Date(p[1],y,p[3]||1,p[4]||0,p[5]||0,p[6]||0,_)}}return new Date(a)}(o),this.init()},r.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},r.$utils=function(){return h},r.isValid=function(){return this.$d.toString()!==bt},r.isSame=function(o,s){var a=O(o);return this.startOf(s)<=a&&a<=this.endOf(s)},r.isAfter=function(o,s){return O(o)<this.startOf(s)},r.isBefore=function(o,s){return this.endOf(s)<O(o)},r.$g=function(o,s,a){return h.u(o)?this[s]:this.set(a,o)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(o,s){var a=this,d=!!h.u(s)||s,p=h.p(o),y=function(Z,T){var V=h.w(a.$u?Date.UTC(a.$y,T,Z):new Date(a.$y,T,Z),a);return d?V:V.endOf(E)},_=function(Z,T){return h.w(a.toDate()[Z].apply(a.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(T)),a)},P=this.$W,D=this.$M,Y=this.$D,G="set"+(this.$u?"UTC":"");switch(p){case H:return d?y(1,0):y(31,11);case k:return d?y(1,D):y(0,D+1);case A:var U=this.$locale().weekStart||0,rt=(P<U?P+7:P)-U;return y(d?Y-rt:Y+(6-rt),D);case E:case R:return _(G+"Hours",0);case z:return _(G+"Minutes",1);case w:return _(G+"Seconds",2);case u:return _(G+"Milliseconds",3);default:return this.clone()}},r.endOf=function(o){return this.startOf(o,!1)},r.$set=function(o,s){var a,d=h.p(o),p="set"+(this.$u?"UTC":""),y=(a={},a[E]=p+"Date",a[R]=p+"Date",a[k]=p+"Month",a[H]=p+"FullYear",a[z]=p+"Hours",a[w]=p+"Minutes",a[u]=p+"Seconds",a[t]=p+"Milliseconds",a)[d],_=d===E?this.$D+(s-this.$W):s;if(d===k||d===H){var P=this.clone().set(R,1);P.$d[y](_),P.init(),this.$d=P.set(R,Math.min(this.$D,P.daysInMonth())).$d}else y&&this.$d[y](_);return this.init(),this},r.set=function(o,s){return this.clone().$set(o,s)},r.get=function(o){return this[h.p(o)]()},r.add=function(o,s){var a,d=this;o=Number(o);var p=h.p(s),y=function(D){var Y=O(d);return h.w(Y.date(Y.date()+Math.round(D*o)),d)};if(p===k)return this.set(k,this.$M+o);if(p===H)return this.set(H,this.$y+o);if(p===E)return y(1);if(p===A)return y(7);var _=(a={},a[w]=n,a[z]=e,a[u]=i,a)[p]||1,P=this.$d.getTime()+o*_;return h.w(P,this)},r.subtract=function(o,s){return this.add(-1*o,s)},r.format=function(o){var s=this,a=this.$locale();if(!this.isValid())return a.invalidDate||bt;var d=o||"YYYY-MM-DDTHH:mm:ssZ",p=h.z(this),y=this.$H,_=this.$m,P=this.$M,D=a.weekdays,Y=a.months,G=a.meridiem,U=function(T,V,st,ft){return T&&(T[V]||T(s,d))||st[V].slice(0,ft)},rt=function(T){return h.s(y%12||12,T,"0")},Z=G||function(T,V,st){var ft=T<12?"AM":"PM";return st?ft.toLowerCase():ft};return d.replace(ae,function(T,V){return V||function(st){switch(st){case"YY":return String(s.$y).slice(-2);case"YYYY":return h.s(s.$y,4,"0");case"M":return P+1;case"MM":return h.s(P+1,2,"0");case"MMM":return U(a.monthsShort,P,Y,3);case"MMMM":return U(Y,P);case"D":return s.$D;case"DD":return h.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return U(a.weekdaysMin,s.$W,D,2);case"ddd":return U(a.weekdaysShort,s.$W,D,3);case"dddd":return D[s.$W];case"H":return String(y);case"HH":return h.s(y,2,"0");case"h":return rt(1);case"hh":return rt(2);case"a":return Z(y,_,!0);case"A":return Z(y,_,!1);case"m":return String(_);case"mm":return h.s(_,2,"0");case"s":return String(s.$s);case"ss":return h.s(s.$s,2,"0");case"SSS":return h.s(s.$ms,3,"0");case"Z":return p}return null}(T)||p.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(o,s,a){var d,p=this,y=h.p(s),_=O(o),P=(_.utcOffset()-this.utcOffset())*n,D=this-_,Y=function(){return h.m(p,_)};switch(y){case H:d=Y()/12;break;case k:d=Y();break;case ot:d=Y()/3;break;case A:d=(D-P)/6048e5;break;case E:d=(D-P)/864e5;break;case z:d=D/e;break;case w:d=D/n;break;case u:d=D/i;break;default:d=D}return a?d:h.a(d)},r.daysInMonth=function(){return this.endOf(k).$D},r.$locale=function(){return B[this.$L]},r.locale=function(o,s){if(!o)return this.$L;var a=this.clone(),d=pt(o,s,!0);return d&&(a.$L=d),a},r.clone=function(){return h.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},l}(),It=mt.prototype;return O.prototype=It,[["$ms",t],["$s",u],["$m",w],["$H",z],["$W",E],["$M",k],["$y",H],["$D",R]].forEach(function(l){It[l[1]]=function(r){return this.$g(r,l[0],l[1])}}),O.extend=function(l,r){return l.$i||(l(r,mt,O),l.$i=!0),O},O.locale=pt,O.isDayjs=xt,O.unix=function(l){return O(1e3*l)},O.en=B[at],O.Ls=B,O.p={},O})});var Ut=class i{data;component=I;date="";day="";week="";dayOfYear="";constructor(){let n=Qt();this.date=v("_calendarDate",{year:n.year,month:n.month}),this.day=n.zeroDate,this.week=n.dayText,this.dayOfYear=v("_dayOfYear",{day:Wt()})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-calendar"]],inputs:{data:"data"},decls:11,vars:10,consts:[[1,"calendar","family","citems"],[1,"ctop"],[1,"box"],[1,"cday"],[1,"cdate"],[1,"mr-1.5"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),g(2),m(),f(3,"div",2)(4,"div",3),g(5),m(),f(6,"div",4)(7,"span",5),g(8),m(),f(9,"span"),g(10),m()()()()),e&2&&(C("zoom",t.component.zoom),c(),C("background",t.data.topColor),c(),$(" ",t.date," "),c(),C("background",t.data.bgColor),c(2),x(t.day),c(3),x(t.dayOfYear),c(2),x(t.week))},styles:[".calendar[_ngcontent-%COMP%]{width:130px;height:var(--componentHeight);max-height:100%;border-radius:12px;text-align:center;overflow:hidden;color:#fff;box-shadow:0 0 8px #0006;display:flex;flex-direction:column}.calendar[_ngcontent-%COMP%]   .ctop[_ngcontent-%COMP%]{font-size:17px;height:40px;line-height:0;display:flex;align-items:center;justify-content:center;font-weight:500}.calendar[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{flex:1}.calendar[_ngcontent-%COMP%]   .cday[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:1;padding:24px 0 5px}.calendar[_ngcontent-%COMP%]   .cdate[_ngcontent-%COMP%]{color:#ffffffb3;font-size:13px}"]})};var Zt=class i{data;component=I;runDays=0;unit="";constructor(){let n=Date.now()-Vt.runtime;n=n<0?0:n;let e=Math.floor(n/(1e3*60*60*24*365));e>0?(this.runDays=e,this.unit=v("_year")):(this.runDays=Math.floor(n/(1e3*60*60*24)),this.unit=v("_day"))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-runtime"]],inputs:{data:"data"},decls:9,vars:5,consts:[[1,"runtime","family","citems"],[1,"title"],[1,"days"],[1,"day"],[1,"unit"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/runtime.svg",1,"img"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),g(2),m(),f(3,"div",2)(4,"span",3),g(5),m(),f(6,"span",4),g(7),m()(),F(8,"img",5),m()),e&2&&(C("zoom",t.component.zoom),c(2),x(t.data.title),c(3),x(t.runDays),c(2),x(t.unit))},styles:[".runtime[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:230px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;justify-content:center;padding:30px;flex-direction:column;background:linear-gradient(135deg,#8bc6ec,#9599e2);font-weight:700}.runtime[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:18px;color:#f9f6f6}.runtime[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{z-index:2;position:relative;margin-top:10px;font-size:48px;line-height:1;color:#d67272}.runtime[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{vertical-align:text-bottom}.runtime[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:15px;margin-left:2px;margin-bottom:2px;font-weight:500}.runtime[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:70px}"]})};function le(i,n){if(i&1&&(f(0,"div",5),g(1),m()),i&2){let e=S();c(),x(e.countdownStr)}}function de(i,n){i&1&&F(0,"img",6)}function pe(i,n){i&1&&F(0,"img",6)}var qt=class i{data;component=I;timer;countdownStr="";isRest=!1;constructor(){document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}ngOnChanges(){clearTimeout(this.timer),this.init()}ngOnDestroy(){clearTimeout(this.timer),document.removeEventListener("visibilitychange",this.visibilitychange)}visibilitychange(n){n.target.hidden?clearTimeout(this.timer):this.init()}init(){if(this.data){let n=new Date,e=n.getTime(),t=new Date(this.data.startDate);t.setFullYear(n.getFullYear()),t.setMonth(n.getMonth()),t.setDate(n.getDate());let u=t.getTime(),w=new Date(this.data.date);w.setFullYear(n.getFullYear()),w.setMonth(n.getMonth()),w.setDate(n.getDate());let z=w.getTime(),E=(z-e)/1e3,A=E/(60*60),k=Math.floor(A%1*10)/10,ot=Math.floor(E/60%60),H=Math.floor(E%60),R=Math.floor(A)+k;if(e>=u&&e<=z)R>=1?this.countdownStr=v("_hours",{num:R}):ot>0?this.countdownStr=v("_minutes",{num:ot}):H>=0&&(this.countdownStr=v("_seconds",{num:H}));else return this.isRest=!0,clearTimeout(this.timer);this.isRest=!1}this.timer=setTimeout(()=>this.init(),1e3)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-offwork"]],inputs:{data:"data"},features:[L],decls:7,vars:8,consts:[["other",""],[1,"offwork","family","citems"],[1,"title"],["class","coutdown",4,"ngIf"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg","class","img",4,"ngIf","ngIfElse"],[1,"coutdown"],["src","https://gcore.jsdelivr.net/gh/xjh22222228/public@gh-pages/nav/rest.svg",1,"img"]],template:function(e,t){if(e&1&&(f(0,"div",1)(1,"div",2),g(2),m(),N(3,le,2,1,"div",3)(4,de,1,0,"img",4)(5,pe,1,0,"ng-template",null,0,Ft),m()),e&2){let u=Et(6);C("zoom",t.component.zoom),W("rest",t.isRest),c(2),$(" ",t.isRest?t.data.restTitle:t.data.workTitle," "),c(),M("ngIf",!t.isRest),c(),M("ngIf",t.isRest)("ngIfElse",u)}},dependencies:[it,nt],styles:[".offwork[_ngcontent-%COMP%]{pointer-events:none;position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;align-items:center;flex-direction:column;font-weight:700;background-color:#fff}.offwork.rest[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;color:#666}.offwork[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:20px;z-index:2;position:relative;font-size:14px;color:gray;text-align:center}.offwork[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%}.offwork[_ngcontent-%COMP%]   .coutdown[_ngcontent-%COMP%]{z-index:2;position:relative;font-size:24px;color:#666}"]})};var Xt=class i{constructor(n){this.jumpService=n}data;component=I;static \u0275fac=function(e){return new(e||i)(gt(vt))};static \u0275cmp=b({type:i,selectors:[["app-image"]],inputs:{data:"data"},decls:3,vars:7,consts:[[1,"cimage","family","citems",3,"click"],[1,"text"]],template:function(e,t){e&1&&(f(0,"div",0),X("click",function(w){return t.jumpService.goUrl(w,t.data.go)}),f(1,"div",1),g(2),m()()),e&2&&(C("background-image",t.data.url&&"url("+t.data.url+")")("zoom",t.component.zoom),W("cursor-pointer",t.data.go),c(2),x(t.data.text))},styles:[".cimage[_ngcontent-%COMP%]{position:relative;width:170px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;background-size:cover}.cimage[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-size:12px;text-align:center;font-weight:500}"]})};var dt=St(Pt(),1);var Kt=class i{data;component=I;countdownData={};constructor(){}ngOnInit(){this.init()}ngOnChanges(){this.init()}init(){let n={};this.data.date&&(n.dateStr=(0,dt.default)(this.data.date).format("YYYY.MM.DD"),n.dayStr=(0,dt.default)((0,dt.default)(this.data.date).format("YYYY-MM-DD")).diff((0,dt.default)().format("YYYY-MM-DD"),"day"),n.dayStr=n.dayStr<0?0:n.dayStr,n.dayStr=n.dayStr>9999?9999:n.dayStr),this.countdownData=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-countdown"]],inputs:{data:"data"},features:[L],decls:8,vars:15,consts:[[1,"holiday","family","citems"],[1,"top"],[1,"box"],[1,"days"],[1,"date"]],template:function(e,t){e&1&&(f(0,"div",0)(1,"div",1),g(2),m(),f(3,"div",2)(4,"div",3),g(5),m(),f(6,"div",4),g(7),m()()()),e&2&&(C("zoom",t.component.zoom),c(),C("background",t.data.topColor),c(),$(" ",t.data.title," "),c(),C("background-image",t.data.url&&"url("+t.data.url+")")("background-color",t.data.bgColor),c(),C("color",t.data.dayColor),c(),$(" ",t.countdownData.dayStr," "),c(),C("color",t.data.dateColor),c(),$(" - ",t.countdownData.dateStr," - "))},styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:160px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;color:#fff;box-shadow:0 0 15px #0003;display:flex;flex-direction:column;text-align:center}.holiday[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:6px 10px;font-weight:500}.holiday[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;flex:1;background-size:cover}.holiday[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-weight:700;font-size:50px;margin-top:16px}.holiday[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;bottom:5px;left:0;width:100%;font-weight:500}"]})};var fe=["root"],te=class i{data;root;parseDescriptionTimer;component=I;html="";constructor(){}ngOnChanges(){this.init(),this.parseDescription()}ngOnDestroy(){clearTimeout(this.parseDescriptionTimer)}init(){this.html=Rt(`!${this.data.html}`)}parseDescription(){clearTimeout(this.parseDescriptionTimer),this.parseDescriptionTimer=setTimeout(()=>{jt(this.root?.nativeElement,`!${this.html}`)},300)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-html"]],viewQuery:function(e,t){if(e&1&&K(fe,5),e&2){let u;tt(u=et())&&(t.root=u.first)}},inputs:{data:"data"},features:[L],decls:3,vars:9,consts:[["root",""],[1,"html","family","citems",3,"innerHTML"]],template:function(e,t){e&1&&(F(0,"div",1,0),zt(2,"safeHtml")),e&2&&(C("zoom",t.component.zoom)("width",t.data.width+"px")("background",t.data.bgColor),M("innerHTML",Ht(2,7,t.html),Tt))},dependencies:[At],styles:[".html[_ngcontent-%COMP%]{position:relative;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;overflow-wrap:break-word}"]})};var j=St(Pt(),1);function ue(i,n){if(i&1&&(f(0,"span",10),g(1),m()),i&2){let e=S(2);c(),x(e.$t("_rest"))}}function ge(i,n){if(i&1&&(kt(0),g(1),Nt()),i&2){let e=S(2);c(),$("- ",e.items[0].afterDay,"")}}function he(i,n){if(i&1&&(f(0,"span",10),g(1),m()),i&2){let e=S(3);c(),x(e.$t("_rest"))}}function ye(i,n){if(i&1&&(f(0,"div",14),g(1),m()),i&2){let e=S().$implicit,t=S(2);c(),wt(" ",e.diffDay,"",t.$t("_day")," ")}}function ve(i,n){if(i&1&&(f(0,"div",11)(1,"div",12),g(2),N(3,he,2,1,"span",6),m(),N(4,ye,2,2,"div",13),m()),i&2){let e=n.$implicit;c(2),wt(" ",e.title," ",e.dateStr,""),c(),M("ngIf",e.day>0),c(),M("ngIf",e.diffDay>0)}}function _e(i,n){if(i&1&&(f(0,"div",1)(1,"div",2)(2,"div",3),g(3),m(),f(4,"div",4),g(5),m(),f(6,"div",5),N(7,ue,2,1,"span",6),f(8,"span"),g(9),N(10,ge,2,1,"ng-container",7),m()()(),f(11,"div",8),N(12,ve,5,4,"div",9),m()()),i&2){let e=S();C("zoom",e.component.zoom),c(),W("today",e.items[0].isToday||e.items[0].isRest),c(2),$(" ",e.items[0].isToday||e.items[0].isRest?e.$t("_dayIs"):e.$t("_distance")+e.items[0].title," "),c(2),x(e.items[0].diffStr),c(2),M("ngIf",e.items[0].day>0),c(2),$("",e.items[0].dateStr," "),c(),M("ngIf",e.items[0].afterDay),c(2),M("ngForOf",e.items)}}var ee=class i{data;items=[];component=I;$t=v;constructor(){}ngOnChanges(){this.init()}init(){let n={},e=(0,j.default)((0,j.default)().format("YYYY-MM-DD"));this.data.items&&(n=[...this.data.items].filter(t=>{t.date=(0,j.default)(t.date).format("YYYY-MM-DD");let u=(0,j.default)(t.date);return t.day>0&&(u=u.add(t.day-1,"day")),!u.isBefore(e)}).slice(0,4).map(t=>(t.dateStr=(0,j.default)(t.date).format("MM.DD"),t.diffDay=(0,j.default)((0,j.default)(t.date).format("YYYY-MM-DD")).diff(e,"day"),t.diffDay=t.diffDay<0?0:t.diffDay,t.diffDay=t.diffDay>999?999:t.diffDay,t.diffStr=t.diffDay,t.day>0&&(t.afterDay=(0,j.default)(t.date).add(t.day-1,"day").format("MM.DD"),t.afterDay===t.dateStr&&(t.afterDay=null)),t.isToday=t.dateStr===(0,j.default)().format("MM.DD"),t.diffDay<=0&&(t.isToday?t.diffStr=t.title:(t.isRest=!0,t.diffStr="\u4F11\u606F\u65E5")),t))),this.items=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-holiday"]],inputs:{data:"data"},features:[L],decls:1,vars:1,consts:[["class","holiday family citems",3,"zoom",4,"ngIf"],[1,"holiday","family","citems"],[1,"left"],[1,"title"],[1,"days"],[1,"flex","items-center","justify-center","whitespace-nowrap"],["class","tag",4,"ngIf"],[4,"ngIf"],[1,"right"],["class","items",4,"ngFor","ngForOf"],[1,"tag"],[1,"items"],[1,"cleft"],["class","cright",4,"ngIf"],[1,"cright"]],template:function(e,t){e&1&&N(0,_e,13,10,"div",0),e&2&&M("ngIf",t.items.length)},dependencies:[it,yt,nt],styles:[".holiday[_ngcontent-%COMP%]{position:relative;width:320px;height:var(--componentHeight);max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;display:flex;background-color:#fff;color:#666}.holiday[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:140px;padding:12px 0 12px 12px;display:flex;flex-direction:column}.holiday[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:46px;text-align:center;font-weight:700;color:#000000d9;flex:1;display:flex;align-items:center;justify-content:center}.holiday[_ngcontent-%COMP%]   .left.today[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{font-size:30px}.holiday[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#dffcea;color:#55aa6f;font-size:10px;font-weight:500;padding:1px 2px;border-radius:2px;display:inline-flex;align-items:center;justify-content:center;margin-right:3px;margin-left:2px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;padding:12px}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 0;color:#000c}.holiday[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]:not(:nth-last-child(1)){margin-bottom:3px;border-bottom:1px solid #eee}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]{position:relative;white-space:nowrap;display:flex;align-items:center}.holiday[_ngcontent-%COMP%]   .cleft[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5px;transform:translate(-100%,-50%)}.holiday[_ngcontent-%COMP%]   .cright[_ngcontent-%COMP%]{font-weight:500}"]})};var ne={1:v("_weibo"),2:"V2EX",3:v("_douyin"),4:v("_bilibili"),5:v("_juejin"),6:v("_baidu"),7:"GitHub",8:v("_52"),9:v("_hongshu"),10:v("_toutiao"),11:v("_douban"),12:"Hacker News",13:v("_zhihu"),14:v("_zhihuDaily")};var _t=class i{constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","25 25 50 50",1,"cc1"],["cx","50","cy","50","r","20","fill","none",1,"cc2"]],template:function(e,t){e&1&&($t(),f(0,"svg",0),F(1,"circle",1),m())},styles:[".cc1[_ngcontent-%COMP%]{z-index:2;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:15px;height:15px;animation:my-rotatex1 2s linear infinite}.cc2[_ngcontent-%COMP%]{stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:5;stroke:#6d8ba7;stroke-linecap:round;animation:loading-dashx2 1.5s ease-in-out infinite}"],changeDetection:0})};var Ce=["parent"],xe=["content"],we=["item"],Me=(i,n)=>({zoom:i,background:n});function Oe(i,n){if(i&1){let e=ht();f(0,"div",10,2),X("mouseenter",function(){let u=ct(e).index,w=S();return lt(w.onMouseEnter(u))}),g(2),m()}if(i&2){let e=n.$implicit,t=n.index,u=S();W("active",t===u.activeIndex),c(2),$(" ",u.newsTypeMap[e]," ")}}function Pe(i,n){i&1&&F(0,"app-loading")}function be(i,n){if(i&1&&(f(0,"div",11),g(1),m()),i&2){let e=S();c(),$(" ",e.$t("_noNews")," ")}}function De(i,n){if(i&1&&(f(0,"span",16),g(1),m()),i&2){let e=S().$implicit;c(),x(e.hot)}}function Ie(i,n){if(i&1){let e=ht();f(0,"div",12),X("click",function(u){let w=ct(e).$implicit,z=S();return lt(z.jumpService.goUrl(u,w.url))}),f(1,"span",13),g(2),m(),f(3,"span",14),g(4),m(),N(5,De,2,1,"span",15),m()}if(i&2){let e=n.$implicit,t=n.index;c(2),x(t+1),c(2),x(e.text),c(),M("ngIf",e.hot)}}var ie=class i{constructor(n){this.jumpService=n;let e=localStorage.getItem(q.NEWS);if(e)try{this.newsListMap=JSON.parse(e)}catch{}}parentElement;contentRef;items;data;$t=v;newsTypeMap=ne;component=I;activeIndex=0;newsListMap={};loading=!1;get newsList(){let n=this.data.types;return this.newsListMap[n[this.activeIndex]]||[]}ngOnChanges(){this.getNews()}onMouseEnter(n){this.activeIndex=n,this.contentRef.nativeElement.scrollTop=0}scrollIntoViewTabs(){Jt(this.parentElement.nativeElement,this.items.toArray()[this.activeIndex].nativeElement,{behavior:"smooth"})}getNews(){let n=this.data.types;if(!n||n.length<=0){localStorage.removeItem(q.NEWS),localStorage.removeItem(q.NEWS_DATE);return}let e=Date.now(),t=Number(localStorage.getItem(q.NEWS_DATE));t&&e-t<36e5||(this.newsList.length<=0&&(this.loading=!0),Bt(ut({},this.data)).then(u=>{this.newsListMap=ut(ut({},this.newsListMap),u.data),localStorage.setItem(q.NEWS,JSON.stringify(this.newsListMap)),localStorage.setItem(q.NEWS_DATE,JSON.stringify(Date.now()))}).finally(()=>{this.loading=!1}))}trackByItem(n,e){return e.text}static \u0275fac=function(e){return new(e||i)(gt(vt))};static \u0275cmp=b({type:i,selectors:[["app-news"]],viewQuery:function(e,t){if(e&1&&(K(Ce,5),K(xe,5),K(we,5)),e&2){let u;tt(u=et())&&(t.parentElement=u.first),tt(u=et())&&(t.contentRef=u.first),tt(u=et())&&(t.items=u)}},inputs:{data:"data"},features:[L],decls:9,vars:9,consts:[["parent",""],["content",""],["item",""],[1,"news","citems","family",3,"ngStyle"],[1,"tabs","hidden-scrollbar",3,"mouseleave","click"],["class","tab",3,"active","mouseenter",4,"ngFor","ngForOf"],[1,"content-box","hidden-scrollbar"],[4,"ngIf"],["class","nodata",4,"ngIf"],["class","content ellipsis",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"tab",3,"mouseenter"],[1,"nodata"],[1,"content","ellipsis",3,"click"],[1,"mr-2","n"],[1,"mid","ellipsis"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(e,t){if(e&1){let u=ht();f(0,"div",3)(1,"div",4,0),X("mouseleave",function(){return ct(u),lt(t.scrollIntoViewTabs())})("click",function(){return ct(u),lt(t.scrollIntoViewTabs())}),N(3,Oe,3,3,"div",5),m(),f(4,"div",6,1),N(6,Pe,1,0,"app-loading",7)(7,be,2,1,"div",8)(8,Ie,6,3,"div",9),m()()}e&2&&(M("ngStyle",Yt(6,Me,t.component.zoom,t.data.bgColor)),c(3),M("ngForOf",t.data.types),c(3),M("ngIf",t.loading),c(),M("ngIf",!t.loading&&t.newsList.length===0),c(),M("ngForOf",t.newsList)("ngForTrackBy",t.trackByItem))},dependencies:[it,yt,nt,Lt,_t],styles:[".news[_ngcontent-%COMP%]{position:relative;width:310px;height:var(--componentHeight)!important;max-height:100%;border-radius:12px;overflow:hidden;box-shadow:0 0 15px #0003;background:linear-gradient(100deg,#2a2d38,#535a68);color:#fff;padding:10px 10px 0;font-size:12px;display:flex;flex-direction:column}.news[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;column-gap:4px;white-space:nowrap;overflow:hidden;overflow-x:auto}.news[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{border-radius:4px;padding:2px 4px;cursor:pointer;transition:all .2s linear}.news[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background-color:#fff2}.news[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{position:relative;flex:1;overflow:hidden;overflow-y:auto;padding:10px 0;color:#f1f1f1}.news[_ngcontent-%COMP%]   .nodata[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aeaeae}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:not(:last-child){margin-bottom:4px}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:hover{opacity:.9}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(1)   .n[_ngcontent-%COMP%]{color:#fff}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(2)   .n[_ngcontent-%COMP%]{color:#ffffffe6}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]:nth-child(3)   .n[_ngcontent-%COMP%]{color:#fffc}.news[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1}.news[_ngcontent-%COMP%]   .n[_ngcontent-%COMP%]{color:#969c9c}"]})};export{Ut as a,Zt as b,qt as c,Xt as d,Pt as e,Kt as f,te as g,ee as h,ne as i,ie as j};
